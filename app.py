
import streamlit as st
import pandas as pd

st.set_page_config(page_title="Κατανομή Μαθητών με Παιδαγωγικά Κριτήρια", layout="wide")

tab1, tab2 = st.tabs(["📘 Εισαγωγή", "🧮 Κατανομή Μαθητών"])

with tab1:
    st.title("📘 Κατανομή Μαθητών με Παιδαγωγικά Κριτήρια")

    st.markdown("## Κανένας Άνθρωπος δεν είναι Νησί – John Donne")
    col1, col2 = st.columns(2)
    with col1:
        st.markdown("""
        **Κανένας άνθρωπος δεν είναι νησί**,  
        ολοκληρωμένος από μόνος του.  
        κάθε άνθρωπος είναι κομμάτι της ηπείρου,  
        μέρος του όλου.  
        [...]  
        Ο θάνατος κάθε ανθρώπου με μειώνει,  
        γιατί εγώ είμαι μέρος της ανθρωπότητας.
        """)
    with col2:
        st.markdown("""
        *No man is an island*,  
        entire of itself;  
        every man is a piece of the continent,  
        a part of the main.  
        [...]  
        Any man's death diminishes me,  
        because I am involved in mankind.
        """)

    st.markdown("---")
    st.markdown("## Η Κοινωνική Δικαιοσύνη στα Σχολεία – Ζήτημα Ύψιστης Σημασίας")
    st.markdown("""
    Η κοινωνική δικαιοσύνη δεν είναι πολυτέλεια, αλλά ευθύνη κάθε σχολείου. Ο εκπαιδευτικός οφείλει να διασφαλίζει ισότητα και ενσυναίσθηση στην πράξη. Η πλήρης και ακριβής καταγραφή των χαρακτηριστικών κάθε παιδιού – όπως η γλωσσική επάρκεια, οι ιδιαίτερες ανάγκες ή η κοινωνική δυναμική – είναι βασική για μια δίκαιη κατανομή στα τμήματα. Η αμέλεια ή η σιωπή οδηγεί σε αδικίες που πληγώνουν τα παιδιά.

    Όπως η θεωρία του χάους υπογραμμίζει ότι μια μικρή αλλαγή μπορεί να προκαλέσει τεράστιες συνέπειες, έτσι και μια φαινομενικά ασήμαντη παιδαγωγική απόφαση, όπως η κατανομή των μαθητών, μπορεί να έχει μακροπρόθεσμο αντίκτυπο. Η άνιση σύνθεση τάξεων ή η εύνοια σε ομάδες είναι μορφές αδικίας με βαθιές συνέπειες. Η παιδαγωγική κατανομή είναι πράξη ευθύνης – όχι απλή διαδικασία.
    """)
    st.markdown(
        '''
        <div style="padding: 1rem; background-color: #f0f8ff; border-left: 5px solid #1f77b4; font-style: italic;">
        ✨ «Κάποιες φορές αισθανόμαστε ότι αυτό που κάνουμε είναι μόνο μια σταγόνα στον ωκεανό.<br>
        Αλλά ο ωκεανός θα ήταν μικρότερος αν έλειπε αυτή η σταγόνα.»<br>
        — <strong>Μητέρα Τερέζα</strong>
        </div>
        ''',
        unsafe_allow_html=True
    )

    st.markdown("---")
    st.image("logo.png", width=120)
    st.markdown(
        "<div style='text-align: center; font-style: italic; font-size: 14px;'>"
        "Για μια παιδεία που βλέπει το φως στα παιδιά,<br>"
        "ακόμη και εκεί που άλλοι βλέπουν σκιές"
        "</div>",
        unsafe_allow_html=True
    )

with tab2:
    st.header("🧮 Κατανομή Μαθητών")
    uploaded_file = st.file_uploader("📥 Ανέβασε το αρχείο Excel με τους μαθητές", type=["xlsx"])

    if uploaded_file:
        df = pd.read_excel(uploaded_file)
        st.success("✅ Το αρχείο ανέβηκε και διαβάστηκε επιτυχώς.")
        st.json(df.to_dict(orient="records"))

        if st.button("🔘 Ξεκίνα την Κατανομή"):
            st.info("⚙️ Η κατανομή ξεκίνησε...")
            # [Μελλοντική λογική]
            st.success("✅ Η κατανομή ολοκληρώθηκε επιτυχώς!")
